<div class="signin-container">
    <div class="signin-card">
        <div class="signin-header">
            <h1 class="signin-title">Sign In</h1>
            <p class="signin-subtitle">Access your TuneCritic account</p>
        </div>

        <form [formGroup]="signinForm" (ngSubmit)="onSubmit()" class="signin-form">
            <!-- Email Field -->
            <div class="form-group">
                <label for="email" class="form-label">Email</label>
                <input type="email" id="email" formControlName="email" class="form-input"
                    [class.error]="isFieldInvalid('email')" placeholder="your@email.com" autocomplete="email" />
                <div class="error-message" *ngIf="isFieldInvalid('email')">
                    <span *ngIf="signinForm.get('email')?.errors?.['required']">
                        Email is required
                    </span>
                    <span *ngIf="signinForm.get('email')?.errors?.['email']">
                        Please enter a valid email
                    </span>
                </div>
            </div>

            <!-- Password Field -->
            <div class="form-group">
                <label for="password" class="form-label">Password</label>
                <div class="password-wrapper">
                    <input [type]="showPassword ? 'text' : 'password'" id="password" formControlName="password"
                        class="form-input" [class.error]="isFieldInvalid('password')" placeholder="Your password"
                        autocomplete="current-password" />
                    <button type="button" class="password-toggle" (click)="togglePasswordVisibility()"
                        [attr.aria-label]="showPassword ? 'Hide password' : 'Show password'">
                        {{ showPassword ? 'üôà' : 'üëÅÔ∏è' }}
                    </button>
                </div>
                <div class="error-message" *ngIf="isFieldInvalid('password')">
                    <span *ngIf="signinForm.get('password')?.errors?.['required']">
                        Password is required
                    </span>
                </div>
            </div>

            <!-- Remember Me & Forgot Password -->
            <div class="form-options">
                <label class="checkbox-wrapper">
                    <input type="checkbox" formControlName="rememberMe" class="checkbox" />
                    <span class="checkmark"></span>
                    <span class="checkbox-label">Remember me</span>
                </label>
                <a href="#" class="forgot-password">Forgot your password?</a>
            </div>

            <!-- Error Message -->
            <div class="signin-error" *ngIf="signinError">
                {{ signinError }}
            </div>

            <!-- Submit Button -->
            <button type="submit" class="signin-button" [disabled]="isSubmitting" [class.loading]="isSubmitting">
                <span *ngIf="!isSubmitting">Sign In</span>
                <span *ngIf="isSubmitting">Signing in...</span>
            </button>
        </form>

        <!-- Sign Up Link -->
        <div class="signup-link">
            <p>Don't have an account? <a routerLink="/signup">Sign up here</a></p>
        </div>
    </div>
</div>